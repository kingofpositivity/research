<div class="div "  *ngIf="isEditable" id="mainpage" style="margin: 15px;">

  <div class="admin-card d-flex" style="background-color: white;">
    <div class="admin-contact d-flex" style="margin-left: 10px; width: 88%;">
      <div class="contact-item d-flex" style="border-right: 2px solid #ebebeb; padding-right: 9%;">
        <img src="assets/user.png" alt="Customer Icon" style="width: 65px; height: 65px; margin-right: 15px; margin-left: 6px;" />

        <div class="div" style="margin-top: 8px; margin-left: 1px;">
          <div class="admin-name" style="font-size: 19px;">Name of the Admin</div>
          <p style="font-size: 14px; margin-top: -4px;">Admin</p>
        </div>
      </div>

      <div class="contact-item" style="padding-left: 12%; display: flex; flex-direction: column; justify-content: center;">
        <div style="font-size: 12px;">Email</div>
        <p class="admin-email" style="font-size: 12px; margin: 0;">sampleadmingmail.com</p>
      </div>

      <div class="contact-item" style="border-right: 2px solid #ebebeb; padding-right: 12%; display: flex; flex-direction: column; justify-content: center; margin-left:9%;">
        <div style="font-size: 12px;">Password</div>
        <div class="d-flex align-items-center">
          <p class="admin-password" style="font-size: 12px; margin-right: 5px;">xxxxxxxx</p>
          <span class="material-icons" style="opacity: 60%; cursor: pointer; font-size: 13px; color: gray; align-items: center; margin-top: -8px;">visibility</span>
        </div>
      </div>
    </div>

    <div style="display: flex; justify-content: center; align-items: center;">
      <img (click)="toggleEdit('Profile Edit')" src="assets/edit.svg" alt="Edit Icon" style="width: 65px; height: 65px; margin-right: 15px; margin-left: 6px;" />
    </div>
  </div>

  <div class="d-flex" style="margin: 20px 0;">
    <div class="search-box">
      <input type="text" placeholder="  Search by Name / Email" class="search-input" [(ngModel)]="searchInput">
      <span class="material-icons search-icon">search</span>
    </div>
    <button class="search-button" (click)="onSearchClick(searchInput)">Search</button>
  </div>
  

<!-- Angular Material Table -->
<!-- Angular Material Table -->
<div class="admin-card" style="background-color: white; padding: 15px;">
  <div class="admin-name" style="font-size: 18px; margin-left: 12px; margin-bottom: 5px;">Users</div>

  <!-- Table Container with a fixed height -->
  <div class="table-container" style="background-color: #fff;" (scroll)="onScroll()">
    <table mat-table [dataSource]="dataSource" matSort style="background-color: white;">

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
        <td mat-cell *matCellDef="let item">{{ item.name }}</td>
      </ng-container>

      <!-- Email Column -->
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
        <td mat-cell *matCellDef="let item">{{ item.email }}</td>
      </ng-container>

      <!-- Status Column -->
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
        <td mat-cell *matCellDef="let item">{{ item.status }}</td>
      </ng-container>

      <!-- Action Column -->
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Action</th>
        <td mat-cell *matCellDef="let item">
          <div class="d-flex">
            <div class="acti on-button" (click)="toggleEdit('table_edit')" style="margin-top: 3px;">
              <img src="assets/edit.svg" alt="Edit" style="width: 29px; height: 30px; margin-right: 5px;" />
            </div>
            <div class="acti on-button" (click)="deleteItem(item)">
              <img src="assets/delete.svg" alt="Delete" style="width: 20px; height: 19px; margin-right: 5px; margin-top: 8px;" />
            </div>
          </div>
        </td>
      </ng-container>

      <!-- Table Header and Row Definition -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true" style="border-bottom: solid rgba(223, 223, 223, 0.37);"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" style="border-bottom: solid rgba(223, 223, 223, 0.37);"></tr>
    </table>
    
    <!-- Loading Indicator -->
    <div *ngIf="isLoading" class="loading-indicator">Loading more items...</div>
  </div>


</div>
<button class="fab search-button" (click)="toggleEdit('create')" style="background-color: var(--goldcolor); border-radius: 50%; width: 56px; height: 56px; display: flex; justify-content: center; align-items: center;">
  <mat-icon style="font-size: 24px;">add</mat-icon>
</button>
</div>
<div class="admin-card"  *ngIf="!isEditable" style="margin: 15px; padding-left: 25px; background: white;height: 94%;">
  <div class="heading" style="border-bottom: solid 1px #b9b9b9; font-weight: 480; margin-right: 30px; padding-bottom: 10px; margin-bottom: 30px;">
    <div>Edit</div>
  </div>
  <div class="form-container">
    <!-- First field: Percentage of total amount -->
    <div class="image-wrapper" id="profile_icon_edit" *ngIf="showProfile" >
      <img src="assets/user.png" alt="Customer Icon" />
      <button style="position: absolute; bottom: 10px; right: 10px; width: 30px; height: 30px; background-color: rgb(196, 196, 196); border: none; border-radius: 50%; display: flex; justify-content: center; align-items: center; cursor: pointer;">
        <span class="material-icons" style="font-size: 15px; color: #000000;">edit</span> <!-- Material Icon for the button -->
    </button>
    
  </div>
  
<!-- Row for Name, Email, Store, and Password -->
<div class="flex-row">
  <!-- Name Field -->
  <div class="input-box">
    <label for="name">Name</label>
    <div [ngClass]="{'editable': true}" class="input-wrapper">
      <input id="name" type="text" [(ngModel)]="userData.name">
    </div>
  </div>

  <!-- Email Field -->
  <div class="input-box">
    <label for="email">Email</label>
    <div [ngClass]="{'editable': true}" class="input-wrapper">
      <input id="email" type="email" [(ngModel)]="userData.email">
    </div>
  </div>
</div>

<div class="flex-row">
  <!-- Store Dropdown -->
  <div class="input-box">
    <label for="store">Store</label>
    <div [ngClass]="{'editable': true}" class="input-wrapper">
      <select id="store" [(ngModel)]="userData.store" [ngClass]="{'editable': true}">
        <option value="" selected>Select a location</option>
        <option *ngFor="let option of locationOptions" [value]="option">{{ option }}</option>
      </select>
    </div>
  </div>

  <!-- Password Field -->
  <div class="input-box">
    <label for="password">Password</label>
    <div [ngClass]="{'editable': true}" class="input-wrapper">
      <input id="password" type="password" [(ngModel)]="userData.password">
    </div>
  </div>
</div>

   <!-- Reset Button -->
  <div class="d-flex" style="position: absolute; right: 40px; bottom: 30px; display: flex; align-items: center;">
    <!-- Reset Button -->
    <button class="save-button text-center" (click)="resetFields(); logAction('Reset clicked')" style="background: white; color: black; padding: 5px 30px; border: 1px solid black;">
      Reset
    </button>

    <!-- Save Button -->
    <button class="save-button text-center" (click)="saveData(); logAction('Save clicked')" style="background: black; color: white; padding: 5px 30px; border: none;">
      Save
    </button>
  </div>
 

 </div>


